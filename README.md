## TCP和UDP的区别

### TCP(传输控制协议)：

- 1)提供IP环境下的数据可靠传输(一台计算机发出的字节流会无差错的发往网络上的其他计算机，而且计算机A接收数据包的时候，也会向计算机B回发数据包，这也会产生部分通信量)，全双工操作(数据在两个方向上能同时传递)，多路复用服务，是面向连接，端到端的传输，提供超时重发，丢弃重复数据，检验数据，流量控制等功能

- 2)面向连接：正式通信前必须要与对方建立连接。事先为所发送的数据开辟出连接好的通道，然后再进行数据发送，像打电话。

- 3)TCP支持的应用协议：Telnet(远程登录)、FTP(文件传输协议)、SMTP(简单邮件传输协议)。TCP用于传输数据量大，可靠性要求高的应用。

### UDP(用户数据报协议，User Data Protocol)

- 1)UDP是非连接的(正式通信前不必与对方建立连接，不管对方状态就直接发送，像短信，QQ。因而传输速度快)，不能提供可靠性、流控、超时重发功能。它是一个简单的面向数据报的运输层协议，只是把应用程序传给IP层的数据报发送出去，但是并不能保证它们能到达目的地。UDP用于一次只传送少量数据，可靠性要求低、传输经济等特点。

- 2) UDP支持的应用协议：NFS(网络文件系统)、SNMP(简单网络管理系统)、DNS(主域名称系统)、TFTP(通用文件传输协议)等。

### 总结：

- TCP：面向连接、传输可靠(保证数据正确性,保证数据顺序)、用于传输大量数据(流模式)、速度慢，建立连接需要开销较多(时间，系统资源)。

- UDP：面向非连接、传输不可靠、用于传输少量数据(数据包模式)、速度快。

- 联系：都是工作在传输层的协议

## HTTP 超文本传输协议
### HTTP通信机制是在一次完整的HTTP通信过程中，Web浏览器与Web服务器之间将完成下列7个步骤：

#### 1、建立TCP连接

- 在HTTP工作开始之前，Web浏览器首先要通过网络与Web服务器建立连接，该连接是通过TCP来完成的，该协议与IP协议共同构建Internet，即著名的TCP/IP协议族，因此Internet又被称作是TCP/IP网络。HTTP是比TCP更高层次的应用层协议，根据规则，只有低层协议建立之后才能进行更深层协议的连接，因此，首先要建立TCP连接，一般TCP连接的端口号是80。

 

#### 2、Web浏览器向Web服务器发送请求命令

- 一旦建立了TCP连接，Web浏览器就会向Web服务器发送请求命令

- 例如：GET/sample/hello.jsp HTTP/1.1。

 

#### 3、 Web浏览器发送请求头信息

- 浏览器发送其请求命令之后，还要以头信息的形式向Web服务器发送一些别的信息，之后浏览器发送了一空白行来通知服务器，它已经结束了该头信息的发送。

 

#### 4、Web服务器应答

- 客户机向服务器发出请求后，服务器会客户机回送应答，

- HTTP/1.1 200 OK

- 应答的第一部分是协议的版本号和应答状态码。

#### 5、Web服务器发送应答头信息

- 正如客户端会随同请求发送关于自身的信息一样，服务器也会随同应答向用户发送关于它自己的数据及被请求的文档。

 

#### 6、Web服务器向浏览器发送数据

- Web服务器向浏览器发送头信息后，它会发送一个空白行来表示头信息的发送到此为结束，接着，它就以Content-Type应答头信息所描述的格式发送用户所请求的实际数据。

 

7、Web服务器关闭TCP连接

一般情况下，一旦Web服务器向浏览器发送了请求数据，它就要关闭TCP连接，然后如果浏览器或者服务器在其头信息加入了这行代码

Connection:keep-alive

TCP连接在发送后将仍然保持打开状态，于是，浏览器可以继续通过相同的连接发送请求。保持连接节省了为每个请求建立新连接所需的时间，还节约了网络带宽。

## HTTP 和 TCP 之间的关系
- TCP 协议是 HTTP 协议的基石——HTTP 协议需要依靠 TCP 协议来传输数据。

- 在网络分层模型中，TCP 被称为“传输层协议”，而 HTTP 被称为“应用层协议”。
- TCP 被称为“面向连接”的传输层协议。传输层主要有两个协议，分别是 TCP 和 UDP。TCP 比 UDP 更可靠。

- HTTP 协议如何使用 TCP 连接：HTTP 对 TCP 连接的使用，分为两种方式：俗称“短连接”和“长连接”（“长连接”又称“持久连接”，洋文叫做“Keep-Alive”或“Persistent Connection”）
